<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- without X-UA-Compatible meta, application won't be able to support legacy browsers -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <!-- integrity allows a browser to check the fetched script to ensure that the code is never loaded if the source has been manipulated -->

    <!-- Bootstrap Icons Stylesheet -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css"
    />
    <!-- multiple js cookie CDN due to multiple experimentations-->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.js"></script>
    <script
      type="text/javascript"
      src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"
    ></script>

    <!-- jQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Chart.js Graph CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Original Developer Stylesheet -->
    <link rel="stylesheet" href="easypeasy.css" />

    <!-- Favicon and Title Aesthetic -->
    <link rel="icon" href="lemon-favicon.png" />
    <title>Settings - Easy Peasy Tracker</title>

    <script>

      $(document).ready(function () {
        let text = localStorage.getItem("testJSON");
        let obj = JSON.parse(text);

        let texts = localStorage.getItem("moreJSON");
        let objs = JSON.parse(texts);

          document.getElementById("full-name").innerHTML = "Full Name: " + obj.name ;
          document.getElementById("age-dob").innerHTML = "Age: " + obj.age ;
          document.getElementById("gender").innerHTML = "Gender: " + obj.gender ;
          document.getElementById("ethnic").innerHTML = "Ethnicity: " + obj.ethnicity ;

          document.getElementById("symptom1").innerHTML = "Main Symptom: " + objs.title ;
          document.getElementById("symptom1.1").innerHTML = "Days: " + objs.day ;
          document.getElementById("symptom1.2").innerHTML = "Severity (scale from 1 to 5): " + objs.severity ;
          document.getElementById("symptom1.3").innerHTML = "Description: " + objs.specific ;
          
      });

      function exportAll() {

          const filename = 'data.json';
          const jsonStr = localStorage.getItem("testJSON");

          let element = document.createElement('a');
          element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(jsonStr));
          element.setAttribute('download', filename);

          element.style.display = 'none';
          document.body.appendChild(element);
          element.click();
          document.body.removeChild(element);
           
        }
    </script>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 fixed-top">
      <div class="container">
        <a href="#" class="navbar-brand">Easy Peasy Tracker</a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navmenu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navmenu">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a href="main.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="profile.html" class="nav-link">Profile</a>
            </li>
            <li class="nav-item">
              <a href="track.html" class="nav-link">Tracks</a>
            </li>
            <li class="nav-item">
              <a href="settings.html" class="nav-link">Settings</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Welcome Back -->

    <section
      class="bg-dark text-light p-5 p-lg-0 pt-lg-5 text-center text-sm-start"
    >
      <div class="container">
        <div class="d-sm-flex align-items-center justify-content-between">
          <div class="nothidden">
            <h1 id="name-display"></h1>
            <p>Here we can export your data.</p>
            <br />
            <br />

          </div>
        </div>
      </div>
    </section>
    <br />
    <div class="container">
      <div class="row row-cols-3">
        <div class="col">
          <h2 class="text-left mb-4">Personal Information</h2>
          <ul class="list-group list-group-flush lead">
            <li class="list-group-item">
              <span class="fw-bold" id="full-name">Full Name:</span>
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="age-dob"> Age:</span>
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="gender"> Gender:</span>
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="ethnic"> Ethnicity:</span>
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="locale">Location:</span>
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="gp-office">Assigned GP Office:</span>
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="gp-prefer"
                >Preferred GP Specialist:</span
              >
            </li>
          </ul>
          <br />


          <!-- Button that calls EDIT modal-->
          <button
            type="button"
            class="btn btn-primary"
            
          >
            Export Personal
          </button>
        </div>




        <!-- CURRENT INFORMATION COLUMN-->
        <div class="col">
          <h2>Health</h2>
          <ul class="list-group list-group-flush lead">
            <li class="list-group-item">
              <span class="fw-bold"
                ><i class="bi bi-droplet-half"></i> Water Drank (ml):</span
              ><a id="clicks"> 0</a>
            </li>
            <li class="list-group-item">
              <span class="fw-bold"
                ><i class="bi bi-activity"></i> Blood Pressure:</span
              >
            </li>
            <li class="list-group-item">
              <span class="fw-bold"
                ><i class="bi bi-bucket-fill"></i> Weight (kg):</span
              >
            </li>
            <li class="list-group-item">
              <span class="fw-bold"
                ><i class="bi bi-clipboard2-data-fill"></i> Height (cm):</span
              >
            </li>
            <li class="list-group-item">
              <span class="fw-bold">Placeholder:</span>
            </li>
          </ul>
          <br>
          <button
            type="button"
            class="btn btn-primary"
           
          >
            Export Health
          </button>
        </div>

        <div class="col">
          <h2>Symptoms</h2>
          <ul class="list-group list-group-flush lead">
            <li class="list-group-item">
              <span class="fw-bold" id="symptom1"
                >
            </span
              >
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="symptom1.1"
                >
            </span
              >
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="symptom1.2"
                >
            </span
              >
            </li>
            <li class="list-group-item">
              <span class="fw-bold" id="symptom1.3"
                >
            </span
              >
            </li>
            <li class="list-group-item">
              <span class="fw-bold"><a id="symptom1.4"></a></span>
            </li>
          </ul>
          <BR>
          <button
            type="button"
            class="btn btn-primary"
           
          >
            Export Symptoms
          </button>
        </div>
        
      </div>
      <br> <br>
      <button
            type="button"
            class="btn btn-primary"
            onclick="exportAll()"
           
          >
            Export All
          </button>
    </div>


    <!-- Tags in order to keep design layout -->
    <br>
    <br/>
    <br/>
    <br/>
    <br/>
    <section class="p-5"></section>

    <!-- Footer -->
    <footer class="p-5 bg-dark text-white text-center position-relative">
      <div class="container">
        <p class="lead"></p>
        <p>
          &#128679; <b>This is an under construction prototype!</b> &#128679;
        </p>
        <!-- Arrow takes user to the top of the page-->
        <a href="#" class="position-absolute bottom-0 end-0 p-5">
          <i class="bi bi-arrow-up h1"></i>
        </a>
      </div>
    </footer>
  </body>
</html>
