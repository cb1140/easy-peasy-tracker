<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- without X-UA-Compatible meta, application won't be able to support legacy browsers -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Bootstrap CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      crossorigin="anonymous"
    />
    <!-- integrity allows a browser to check the fetched script to ensure that the code is never loaded if the source has been manipulated -->

    <!-- Bootstrap Icons Stylesheet -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css"
    />
    <!-- multiple js cookie CDN due to multiple experimentations-->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.js"></script>

    <script
      type="text/javascript"
      src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"
    ></script>

    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"
    ></script>

    <!-- jQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Chart.js Graph CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
    <!-- Bootstrap JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Original Developer Stylesheet -->
    <link rel="stylesheet" href="easypeasy.css" />

    <!-- Favicon and Title Aesthetic -->
    <link rel="icon" href="lemon-favicon.png" />
    <title>Tracks - Easy Peasy Tracker</title>

    <script>
      var tasks = [
        {
          title: "Cough",
          day: "1",
          severity: "1",
          specific: "hoarse",
        },
      ];
      let cardContainer;
      let createTaskCard = (task) => {
        let card = document.createElement("div");
        card.className = "card";
        card.style = "width: 18rem;";

        let cardBody = document.createElement("div");
        cardBody.className = "card-body";

        let title = document.createElement("h5");
        title.innerText = task.title;
        title.className = "card-title";

        let content = document.createElement("p");
        content.className = "card-text";
        content.innerText = "You have had this for " + tasks.day + " days.";

        let space = document.createElement("br");
        let addbutton = document.createElement("button");
        addbutton.type = "button";
        addbutton.className = "btn btn-primary";
        addbutton.innerText = "Add New Day";

        let editbutton = document.createElement("button");
        editbutton.type = "button";
        editbutton.className = "btn btn-primary";
        editbutton.innerText = "Edit Track";
        addbutton.style = "margin-right: 5px";

        cardBody.appendChild(title);
        cardBody.appendChild(content);
        cardBody.appendChild(space);
        cardBody.appendChild(addbutton);
        cardBody.appendChild(editbutton);
        card.appendChild(cardBody);
        cardContainer.appendChild(card);
      };

      let initListOfTasks = () => {
        if (cardContainer) {
          document.getElementById("card-container").replaceWith(cardContainer);
          return;
        }

        cardContainer = document.getElementById("card-container");
        tasks.forEach((task) => {
          createTaskCard(task);
        });
      };

      $(document).ready(function () {
        //const myJSON = JSON.stringify(track);
        // localStorage.setItem("dataJSON", myJSON);

        // let trackData = localStorage.getItem("dataJSON");
        // let symp = JSON.parse(trackData);
        document.getElementById("coughing-title").innerHTML =
          track.symptom + "!";
      });
    </script>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 fixed-top">
      <div class="container">
        <a href="#" class="navbar-brand">Easy Peasy Tracker</a>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navmenu"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navmenu">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a href="main.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="profile.html" class="nav-link">Profile</a>
            </li>
            <li class="nav-item">
              <a href="track.html" class="nav-link">Tracks</a>
            </li>
            <li class="nav-item">
              <a href="settings.html" class="nav-link">Settings</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Heading  -->
    <section
      class="bg-dark text-light p-5 p-lg-0 pt-lg-5 text-center text-sm-start"
    >
      <div class="container">
        <div class="d-sm-flex align-items-center justify-content-between">
          <div>
            <h1>Feeling unwell? Start a new track!</h1>
            <br />

            <button
              type="button"
              class="btn btn-primary"
              data-bs-toggle="modal"
              data-bs-target="#newModal"
              onclick="initListOfTasks()"
            >
              Create New Symptom Tracker
            </button>
            <br />
            <br />
            <br />
          </div>
        </div>
      </div>
    </section>

    <!-- CREATE NEW TRACK MODAL 1  -->
    <div
      class="modal fade"
      id="newModal"
      aria-hidden="true"
      aria-labelledby="newModalToggleLabel"
      tabindex="-1"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="newModalToggleLabel">
              How are you feeling?
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="form-check" class="form-label"
                  >Which symptom are you experiencing?</label
                >

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="flexRadioDefault"
                    id="flexRadioDefault2"
                    checked
                  />
                  <label class="form-check-label" for="flexRadioDefault1">
                    Cough
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="flexRadioDefault"
                    id="flexRadioDefault1"
                  />
                  <label class="form-check-label" for="flexRadioDefault2">
                    Fever
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="flexRadioDefault"
                    id="flexRadioDefault1"
                  />
                  <label class="form-check-label" for="flexRadioDefault2">
                    Sneezing
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="flexRadioDefault"
                    id="flexRadioDefault1"
                  />
                  <label class="form-check-label" for="flexRadioDefault2">
                    Vomiting
                  </label>
                </div>
              </div>
              <div class="mb-3">
                <label for="customRange3" class="form-label"
                  >How severe is it today on a scale from 1 to 5?</label
                >
                <br />
                <input
                  type="range"
                  class="form-range"
                  min="0"
                  max="5"
                  step="1"
                  id="customRange3"
                />
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              class="btn btn-primary"
              data-bs-target="#editModalToggle2"
              data-bs-toggle="modal"
              data-bs-dismiss="modal"
            >
              Next
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- CREATE NEW TRACK MODAL 2  -->
    <div
      class="modal fade"
      id="editModalToggle2"
      aria-hidden="true"
      aria-labelledby="editModalToggleLabel2"
      tabindex="-1"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editModalToggleLabel2">Coughing</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <label for="form-check form-check-inline" class="form-label"
                >How would you describe your cough?</label
              >
              <div class="mb-3">
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio1"
                    value="option1"
                  />
                  <label class="form-check-label" for="inlineRadio1"
                    >Chesty</label
                  >
                </div>
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio2"
                    value="option2"
                  />
                  <label
                    class="form-check-label"
                    for="inlineRadio2"
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="Tooltip on top"
                    >Tickly</label
                  >
                </div>
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio3"
                    value="option3"
                  />
                  <label class="form-check-label" for="inlineRadio3"
                    >Persistent</label
                  >
                </div>
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio4"
                    value="option3"
                  />
                  <label class="form-check-label" for="inlineRadio4"
                    >Nightly</label
                  >
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
            >
              Save
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- EDIT TRACK MODAL  -->
    <div
      class="modal fade"
      id="editModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Are you sure?</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label for="customRange3" class="form-label"
                >Do you want to delete this track?</label
              >
              <br />
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
              onclick="deleteModal()"
            >
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="addDayModal"
      tabindex="-1"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
              How are you today?
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="form-check" class="form-label"
                  >Are you still experiencing this symptom?</label
                >

                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="flexRadioDefault"
                    id="flexRadioDefault2"
                    checked
                  />
                  <label class="form-check-label" for="flexRadioDefault1">
                    Yes
                  </label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="flexRadioDefault"
                    id="flexRadioDefault1"
                  />
                  <label class="form-check-label" for="flexRadioDefault2">
                    No
                  </label>
                </div>
              </div>
              <div class="mb-3">
                <label for="customRange3" class="form-label"
                  >How severe is it today on a scale from 1 to 5?</label
                >
                <br />
                <input
                  type="range"
                  class="form-range"
                  min="0"
                  max="5"
                  step="1"
                  id="customRange3"
                />
              </div>

              <label for="form-check form-check-inline" class="form-label"
                >How would you describe your cough?</label
              >
              <div class="mb-3">
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio1"
                    value="option1"
                  />
                  <label class="form-check-label" for="inlineRadio1"
                    >Chesty</label
                  >
                </div>
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio2"
                    value="option2"
                  />
                  <label
                    class="form-check-label"
                    for="inlineRadio2"
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="Tooltip on top"
                    >Tickly</label
                  >
                </div>
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio3"
                    value="option3"
                  />
                  <label class="form-check-label" for="inlineRadio3"
                    >Persistent</label
                  >
                </div>
                <div class="form-check form-check-inline">
                  <input
                    class="form-check-input"
                    type="radio"
                    name="inlineRadioOptions"
                    id="inlineRadio4"
                    value="option3"
                  />
                  <label class="form-check-label" for="inlineRadio4"
                    >Nightly</label
                  >
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button
              type="button"
              class="btn btn-primary"
              data-bs-dismiss="modal"
            >
              Save changes
            </button>
          </div>
        </div>
      </div>
    </div>

    <section class="p-5">
      <div class="container">
        <div class="row g-4">
          <div class="col-md">
            <div id="card-container">
              <div class="card" style="width: 18rem">
                <div class="card-body">
                  <h5 class="title" id="title">Test Card Placeholder</h5>
                  <p class="card-text">You have had this cough for days.</p>
                  <button
                    type="button"
                    class="btn btn-primary"
                    data-bs-toggle="modal"
                    data-bs-target="#addDayModal"
                  >
                    Add New Day
                  </button>
                  <button
                    type="button"
                    class="btn btn-primary"
                    data-bs-toggle="modal"
                    data-bs-target="#editModal"
                  >
                    Edit Track
                  </button>
                </div>
              </div>
              <br />
            </div>
          </div>

          <div class="col-md">
            <h5 class="title" id="title">
              Your Current Tracks (by days and severity)
            </h5>
            <canvas id="myChart" width="40" height="40"></canvas>
            <script>
              var xValues = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

              new Chart("myChart", {
                type: "line",
                data: {
                  labels: xValues,
                  datasets: [
                    {
                      label: "Coughing ",
                      data: [1, 3, 2, 3, 5, 5, 4, 2, 1, 0],
                      borderColor: "red",
                      fill: false,
                    },
                    {
                      label: "Sneezing ",
                      data: [2, 3, 3, 4, 5, 4, 4, 3, 4, 5],
                      borderColor: "green",
                      fill: false,
                    },
                  ],
                },
                options: {
                  legend: { display: false },
                },
              });
            </script>
          </div>
        </div>
      </section>
         <!-- Footer -->
    <footer class="p-5 bg-dark text-white text-center position-relative">
      <div class="container">
        <p class="lead">  <p>&#128679; <b>This is an under construction prototype!</b> &#128679;</p>
      </p>

        <a href="#" class="position-absolute bottom-0 end-0 p-5">
          <i class="bi bi-arrow-up h1"></i>
        </a>
      </div>
    </footer>

        <script type="text/javascript">
          var clockElement = document.getElementById("clock");

          function clock() {
            clockElement.textContent = new Date().toString();
          }

          setInterval(clock, 1000);
        </script>

        <script type="text/javascript">
          var clicks = 0;
          var drinks = 0;
          var ml = 0;

          function onClickAdd() {
            clicks += 250;
            ml += 250;
            drinks += 1;
            document.getElementById("clicks").innerHTML = clicks;
            document.getElementById("drinks").innerHTML = drinks;
            document.getElementById("ml").innerHTML = ml;
          }

          function onClickSub() {
            clicks -= 250;
            ml -= 250;
            drinks -= 1;
            if (clicks < 0) {
              clicks = 0;
              drinks = 0;
              ml = 0;
            }
            document.getElementById("clicks").innerHTML = clicks;
            document.getElementById("drinks").innerHTML = drinks;
            document.getElementById("ml").innerHTML = ml;
          }
        </script>
      </div>
    
  </body>
</html>
